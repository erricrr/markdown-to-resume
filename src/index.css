@import url('https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;500;600;700;800&family=Montserrat:wght@200;300;400;500;600;700;800&family=Source+Sans+Pro:wght@200;300;400;600;700&family=Nunito:wght@200;300;400;500;600;700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Resume templates are now injected dynamically via useDynamicCSS hook */
/* This eliminates the need for a separate CSS file - true single source of truth! */

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. */

@layer base {
    :root {
        --background: 0 0% 100%;
        --foreground: 222.2 84% 4.9%;

        --card: 0 0% 100%;
        --card-foreground: 222.2 84% 4.9%;

        --popover: 0 0% 100%;
        --popover-foreground: 222.2 84% 4.9%;

        --primary: 222.2 47.4% 11.2%;
        --primary-foreground: 210 40% 98%;

        --secondary: 210 40% 96.1%;
        --secondary-foreground: 222.2 47.4% 11.2%;

        --muted: 210 40% 96.1%;
        --muted-foreground: 215.4 16.3% 46.9%;

        --accent: 210 40% 96.1%;
        --accent-foreground: 222.2 47.4% 11.2%;

        --destructive: 0 84.2% 60.2%;
        --destructive-foreground: 210 40% 98%;

        --border: 214.3 31.8% 91.4%;
        --input: 214.3 31.8% 91.4%;
        --ring: 222.2 84% 4.9%;

        --radius: 0.5rem;

        --sidebar-background: 0 0% 98%;
        --sidebar-foreground: 240 5.3% 26.1%;
        --sidebar-primary: 240 5.9% 10%;
        --sidebar-primary-foreground: 0 0% 98%;
        --sidebar-accent: 240 4.8% 95.9%;
        --sidebar-accent-foreground: 240 5.9% 10%;
        --sidebar-border: 220 13% 91%;
        --sidebar-ring: 217.2 91.2% 59.8%;
    }

    .dark {
        --background: 222.2 84% 4.9%;
        --foreground: 210 40% 98%;
        --card: 222.2 84% 4.9%;
        --card-foreground: 210 40% 98%;
        --popover: 222.2 84% 4.9%;
        --popover-foreground: 210 40% 98%;
        --primary: 210 40% 98%;
        --primary-foreground: 222.2 47.4% 11.2%;
        --secondary: 217.2 32.6% 17.5%;
        --secondary-foreground: 210 40% 98%;
        --muted: 217.2 32.6% 17.5%;
        --muted-foreground: 215 20.2% 65.1%;
        --accent: 217.2 32.6% 17.5%;
        --accent-foreground: 210 40% 98%;
        --destructive: 0 62.8% 30.6%;
        --destructive-foreground: 210 40% 98%;
        --border: 217.2 32.6% 17.5%;
        --input: 217.2 32.6% 17.5%;
        --ring: 212.7 26.8% 83.9%;
        --sidebar-background: 240 5.9% 10%;
        --sidebar-foreground: 240 4.8% 95.9%;
        --sidebar-primary: 224.3 76.3% 48%;
        --sidebar-primary-foreground: 0 0% 100%;
        --sidebar-accent: 240 3.7% 15.9%;
        --sidebar-accent-foreground: 240 4.8% 95.9%;
        --sidebar-border: 240 3.7% 15.9%;
        --sidebar-ring: 217.2 91.2% 59.8%;
    }

    /* Prevent horizontal scrolling app-wide */
    html, body, #root, .app {
        max-width: 100%;
        overflow-x: hidden;
    }
}

@layer base {
    * {
        @apply border-border;
    }

    body {
        @apply bg-background text-foreground;
    }
}

/* Resume Template Styles */
.resume-container {
    @apply w-full h-full overflow-auto;
}

.resume-template {
    @apply font-sans text-gray-900 leading-relaxed bg-white;
    width: 8.5in;
    min-height: 11in;
    margin: 0 auto;
    padding: 0.5rem 0.25rem;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

/* Preview Container Styles */
.resume-preview-container {
    padding: 0.5rem 0.25rem;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    border-radius: 8px;
    margin: 0 auto;
}

/* Print-accurate preview styles */
.print-accurate {
    box-sizing: border-box !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    color-adjust: exact !important;
}

/* Two Page Layout Styles */
.resume-two-page-layout .resume-two-page {
    @apply flex flex-col;
}

.resume-two-page-layout .resume-page-first {
    width: 6.5in; /* Content area without margins */
    height: 9in; /* Content area without margins */
    @apply bg-white p-0 mb-8 overflow-hidden;
    page-break-after: always;
    border: 1px solid #e5e7eb;
}

.resume-two-page-layout .resume-page-second {
    width: 6.5in; /* Content area without margins */
    height: 9in; /* Content area without margins */
    @apply bg-white p-0 overflow-hidden;
    border: 1px solid #e5e7eb;
}

/* Ensure content fits within page boundaries */
.resume-two-page-layout .resume-page-first > *,
.resume-two-page-layout .resume-page-second > * {
    @apply mb-3;
}

.resume-two-page-layout .resume-page-first .resume-heading-1,
.resume-two-page-layout .resume-page-second .resume-heading-1 {
    @apply mt-0 mb-4;
}

.resume-two-page-layout .resume-page-first .resume-heading-2,
.resume-two-page-layout .resume-page-second .resume-heading-2 {
    @apply mt-4 mb-3;
}

/* Common resume styles */
.resume-link {
    @apply text-gray-700 underline;
}

.resume-code {
    @apply bg-gray-100 px-1 rounded text-sm font-mono;
}

.resume-br {
    @apply block;
}

.resume-hr {
    @apply border-0 border-t border-gray-300 my-4;
}

/* Table styles - borderless tables with minimal spacing */
.resume-table {
    @apply w-full mb-4;
    border-collapse: collapse;
}

.resume-table-header {
    @apply px-1 py-0 font-semibold text-left;
}

.resume-table-cell {
    @apply px-1 py-0 align-top;
}

.resume-table-row {
    /* Remove border */
}

/* Style for table-based bullet points */
.resume-table-bullet-item {
    @apply relative pl-4;
}

.resume-table-bullet-item::before {
    content: "â€¢";
    @apply absolute left-0 text-current font-normal;
    line-height: 1.0;
    top: 0.1em;
}

/* Professional Template - Now using single source of truth from resumeTemplates.css */

/* Modern Template - Now using single source of truth from resumeTemplates.css */

/* Minimalist Template - Now using single source of truth from resumeTemplates.css */

/* Creative Template - Now using single source of truth from resumeTemplates.css */

/* Executive Template - Now using single source of truth from resumeTemplates.css */

/* Custom Resume Styles - Add your own custom classes here */
@layer components {
    .custom-highlight {
        @apply bg-gray-200 px-2 py-1 rounded;
    }

    .custom-badge {
        @apply inline-block bg-gray-200 text-gray-800 text-xs font-semibold px-2 py-1 rounded-full;
    }

    .custom-quote {
        @apply border-l-4 border-gray-300 pl-4 italic text-gray-600 my-4;
    }

    .custom-skill-tag {
        @apply inline-block bg-gray-200 text-gray-800 text-sm font-medium px-3 py-1 rounded-full mr-2 mb-2;
    }

    .custom-section-divider {
        @apply w-full h-px bg-gradient-to-r from-transparent via-gray-300 to-transparent my-6;
    }

    .custom-company-name {
        @apply font-bold text-black;
    }

    .custom-date-range {
        @apply text-gray-500 font-medium;
    }

    .custom-achievement {
        @apply bg-gray-100 border-l-4 border-gray-400 p-3 my-2;
    }
}

/* Two Column Layout Styles */
.resume-two-column-layout .resume-two-column {
    @apply flex flex-col;
}

.resume-two-column-layout .resume-header {
    @apply w-full mb-3 pb-2;
}

/* Ensure consistent grid layout that matches PDF output */
.resume-two-column-layout .resume-columns {
    display: grid !important;
    grid-template-columns: 1fr 2fr !important;
    gap: 1.5rem !important;
}

.resume-two-column-layout .resume-column-left {
    @apply pr-4;
}

.resume-two-column-layout .resume-column-right {
    @apply col-span-1;
}

/* Never change the grid for large to medium screens - it must match PDF output */
@media (min-width: 769px) {
    .resume-two-column-layout .resume-columns {
        display: grid !important;
        grid-template-columns: 1fr 2fr !important;
        gap: 1.5rem !important;
    }

    .resume-two-column-layout .resume-column-left,
    .resume-two-column-layout .resume-column-right {
        width: 100% !important;
    }
}

/* Only change to single column on very small screens */
@media (max-width: 480px) {
    .resume-two-column-layout .resume-columns {
        display: grid !important;
        grid-template-columns: 1fr !important;
        gap: 1rem !important;
    }

    .resume-two-column-layout .resume-column-left {
        @apply col-span-1 pr-0 pb-4;
    }

    .resume-two-column-layout .resume-column-right {
        @apply col-span-1;
    }
}

/* Two column specific heading adjustments - use !important to ensure consistency */
.resume-two-column-layout .resume-header .resume-heading-1 {
    font-size: var(--resume-h1-font-size) !important;
    text-align: center;
}

.resume-two-column-layout .resume-header .resume-paragraph {
    @apply text-center mb-2;
}

/* Column-specific sizing but preserve template colors and styling */
.resume-two-column-layout .resume-column-left .resume-heading-1 {
    font-size: var(--resume-h1-font-size) !important;
    line-height: 1.2 !important;
}

.resume-two-column-layout .resume-column-left .resume-heading-2 {
    font-size: 1rem !important;
    line-height: 1.5rem !important;
    margin-top: 1rem !important;
    margin-bottom: 0.5rem !important;
}

.resume-two-column-layout .resume-column-left .resume-heading-3 {
    font-size: 0.875rem !important;
    line-height: 1.3 !important;
    margin-top: 0.75rem !important;
    margin-bottom: 0.375rem !important;
}

.resume-two-column-layout .resume-column-right .resume-heading-2 {
    margin-top: 0 !important;
    margin-bottom: 0.75rem !important;
}

/* Combined Two-Page + Two-Column Layout */
.resume-two-page-layout .resume-page-first .resume-two-column,
.resume-two-page-layout .resume-page-second .resume-two-column {
    @apply flex flex-col h-full;
}

.resume-two-page-layout .resume-page-first .resume-header {
    @apply w-full mb-2 pb-1;
}

.resume-two-page-layout .resume-page-first .resume-summary-section {
    @apply w-full mb-2 pb-1;
}

.resume-two-page-layout
    .resume-page-first
    .resume-summary-section
    .resume-summary {
    @apply text-left leading-relaxed text-gray-700 italic;
}

.resume-two-page-layout .resume-page-first .resume-columns,
.resume-two-page-layout .resume-page-second .resume-columns {
    @apply grid grid-cols-3 gap-4 flex-1;
}

.resume-two-page-layout .resume-page-first .resume-column-left,
.resume-two-page-layout .resume-page-second .resume-column-left {
    @apply col-span-1 pr-3;
}

.resume-two-page-layout .resume-page-first .resume-column-right,
.resume-two-page-layout .resume-page-second .resume-column-right {
    @apply col-span-2;
}

.resume-two-page-layout .resume-page-first .resume-header .resume-heading-1 {
    font-size: var(--resume-h1-font-size) !important;
    line-height: 1.2 !important;
    text-align: center !important;
}

.resume-two-page-layout .resume-page-first .resume-header .resume-paragraph {
    text-align: center !important;
    margin-bottom: 0.25rem !important;
}

/* Combined two-page + two-column specific adjustments */
.resume-two-page-layout.resume-two-column-layout
    .resume-page-first
    .resume-column-left
    .resume-heading-1,
.resume-two-page-layout.resume-two-column-layout
    .resume-page-second
    .resume-column-left
    .resume-heading-1 {
    font-size: var(--resume-h1-font-size) !important;
    line-height: 1.2 !important;
}

.resume-two-page-layout.resume-two-column-layout
    .resume-page-first
    .resume-column-left
    .resume-heading-2,
.resume-two-page-layout.resume-two-column-layout
    .resume-page-second
    .resume-column-left
    .resume-heading-2 {
    font-size: 0.875rem !important;
    line-height: 1.25rem !important;
    margin-top: 0.75rem !important;
    margin-bottom: 0.375rem !important;
}

.resume-two-page-layout.resume-two-column-layout
    .resume-page-first
    .resume-column-left
    .resume-heading-3,
.resume-two-page-layout.resume-two-column-layout
    .resume-page-second
    .resume-column-left
    .resume-heading-3 {
    font-size: 0.75rem !important;
    line-height: 1rem !important;
    margin-top: 0.5rem !important;
    margin-bottom: 0.25rem !important;
}

.resume-two-page-layout.resume-two-column-layout
    .resume-page-first
    .resume-column-right
    .resume-heading-2,
.resume-two-page-layout.resume-two-column-layout
    .resume-page-second
    .resume-column-right
    .resume-heading-2 {
    margin-top: 0 !important;
    margin-bottom: 0.5rem !important;
}

.resume-two-page-layout
    .resume-page-first
    .resume-column-left
    .resume-heading-2,
.resume-two-page-layout
    .resume-page-second
    .resume-column-left
    .resume-heading-2 {
    @apply text-sm mt-3 mb-2;
}

.resume-two-page-layout
    .resume-page-first
    .resume-column-right
    .resume-heading-2,
.resume-two-page-layout
    .resume-page-second
    .resume-column-right
    .resume-heading-2 {
    @apply mt-0 mb-2;
}

/* Base spacing and typography that applies to all layouts */
.resume-paragraph {
    margin-bottom: 0.75rem;
    line-height: 1.5;
}

.resume-heading-1,
.resume-heading-2,
.resume-heading-3,
.resume-heading-4,
.resume-heading-5,
.resume-heading-6 {
    font-weight: inherit;
    color: inherit;
}

/* Ensure italic text is always left-aligned */
.resume-emphasis,
em,
i {
    text-align: left !important;
}

/* Bullets are now handled entirely by resumeTemplates.ts - no conflicts */

/* Print styles - Basic layout only, template styles come from resumeTemplates.ts */
@media print {
    * {
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
        color-adjust: exact !important;
    }

    /* Remove any conflicting styles - let resumeTemplates.ts handle everything */
    body {
        margin: 0 !important;
        padding: 0 !important;
        background: white !important;
    }

    header, nav, footer, button {
        display: none !important;
    }

    .print-only {
        display: block !important;
    }
}

/* Custom scrollbar */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 4px;
}

::-webkit-scrollbar-thumb {
    background: #c1c1c1;
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: #a1a1a1;
}

/* CSS for resume styles */
.resume-container {
    --resume-font: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    font-family: var(--resume-font);
}

/* Professional Template */
.resume-professional {
    --resume-primary: #2D3748;
    --resume-accent: #4A5568;
    --resume-border: #E2E8F0;
    --resume-link: #3182CE;
    --resume-bg-light: #F7FAFC;
    --resume-bg-medium: #EDF2F7;
}

/* Modern Template */
.resume-modern {
    --resume-primary: #1A202C;
    --resume-accent: #4299E1;
    --resume-border: #E2E8F0;
    --resume-link: #4299E1;
    --resume-bg-light: #F7FAFC;
    --resume-bg-medium: #EDF2F7;
}

/* Minimal Template */
.resume-minimal {
    --resume-primary: #1A202C;
    --resume-accent: #718096;
    --resume-border: #E2E8F0;
    --resume-link: #4A5568;
    --resume-bg-light: #FFFFFF;
    --resume-bg-medium: #F7FAFC;
}

/* Creative Template */
.resume-creative {
    --resume-primary: #2B6CB0;
    --resume-accent: #3182CE;
    --resume-border: #BEE3F8;
    --resume-link: #3182CE;
    --resume-bg-light: #EBF8FF;
    --resume-bg-medium: #BEE3F8;
}

/* Academic Template */
.resume-academic {
    --resume-primary: #1A365D;
    --resume-accent: #2A4365;
    --resume-border: #E2E8F0;
    --resume-link: #2B6CB0;
    --resume-bg-light: #F7FAFC;
    --resume-bg-medium: #EDF2F7;
}

/* Tech Template */
.resume-tech {
    --resume-primary: #2D3748;
    --resume-accent: #0BC5EA;
    --resume-border: #E2E8F0;
    --resume-link: #00B5D8;
    --resume-bg-light: #F7FAFC;
    --resume-bg-medium: #E6FFFA;
}

/* Friendly Template */
.resume-friendly {
    --resume-primary: #2F855A;
    --resume-accent: #38A169;
    --resume-border: #C6F6D5;
    --resume-link: #38A169;
    --resume-bg-light: #F0FFF4;
    --resume-bg-medium: #C6F6D5;
}

/* Bold Template */
.resume-bold {
    --resume-primary: #000000;
    --resume-accent: #DD6B20;
    --resume-border: #FEEBC8;
    --resume-link: #DD6B20;
    --resume-bg-light: #FFFAF0;
    --resume-bg-medium: #FEEBC8;
}

/* Elegant Template */
.resume-elegant {
    --resume-primary: #4A5568;
    --resume-accent: #718096;
    --resume-border: #E2E8F0;
    --resume-link: #4A5568;
    --resume-bg-light: #F7FAFC;
    --resume-bg-medium: #EDF2F7;
}

/* Executive Template */
.resume-executive {
    --resume-primary: #1A202C;
    --resume-accent: #6B46C1;
    --resume-border: #E9D8FD;
    --resume-link: #6B46C1;
    --resume-bg-light: #FAF5FF;
    --resume-bg-medium: #E9D8FD;
}

/* ------------------------------------------------------------------ */
/* Application header typography overrides to prevent resume styles from
   altering app UI. These rules use !important for precedence and are
   scoped via .app-header so they do not affect resume preview. */
.app-header h1 {
  font-weight: 700 !important; /* Bold */
  font-size: 1.25rem !important; /* text-xl */
  line-height: 1.75rem !important; /* Tailwind leading-relaxed for xl */
  margin-bottom: 0 !important; /* Remove extra bottom margin from resume CSS */
}

@media (min-width: 640px) {
  .app-header h1 {
    font-size: 1.5rem !important; /* text-2xl */
    line-height: 2rem !important;
  }
}

.app-header p {
  font-size: 0.75rem !important; /* text-xs */
  line-height: 1rem !important;
  margin-top: 0 !important; /* Ensure no top margin */
}

@media (min-width: 640px) {
  .app-header p {
    font-size: 0.875rem !important; /* text-sm */
    line-height: 1.25rem !important;
  }
}

/* Prevent any horizontal scroll or drag movement */
html, body {
  overscroll-behavior-x: none;
}
